<app-navbar></app-navbar>
<div class="middle-section">
  <ng-container *ngIf="hasVehicles(); else noVehicles">
    <div
      *ngIf="selectedVehicle; else selectVehicleMessage"
      class="top-part-container"
    >
      <div class="top-part">
        <button (click)="vehicleBackward()">
          <mat-icon class="icon">arrow_back_ios</mat-icon>
        </button>
        <app-car-component
          [userToken]="userToken"
          [vehicle]="selectedVehicle"
          (vehicleDeleted)="onVehicleDeleted()"
          (expenseAdded)="onExpenseAdded()"
        ></app-car-component>
        <button (click)="vehicleForward()">
          <mat-icon class="icon">arrow_forward_ios</mat-icon>
        </button>
      </div>
      <div class="expense-component">
        <!-- <app-expense-component
          [expenses]="selectedVehicle.expenses ?? []"
        ></app-expense-component> -->
        <app-expense-table
          [expenses]="selectedVehicle.expenses ?? []"
        ></app-expense-table>
      </div>
    </div>
  </ng-container>
  <ng-template #noVehicles>
    <div class="register-vehicle-container">
      <h1>Não há veículos registrados</h1>
      <div class="car-icon-container">
        <img class="car-icon" [src]="CarIconPath" alt="CarIcon" />
      </div>
      <app-submit-button
        class="dashboard-register-vehicle"
        buttonText="Adicionar Veículo"
        (click)="openDialog()"
      ></app-submit-button>
    </div>
  </ng-template>
  <ng-template #selectVehicleMessage>
    <p>Selecione um veículo para ver as informações.</p>
  </ng-template>
</div>
